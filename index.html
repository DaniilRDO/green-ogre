<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<title>SECURE TERMINAL</title>

<style>
body {
    background: black;
    color: #00ff66;
    font-family: monospace;
    padding: 20px;
}

.hidden { display: none; }

#terminal {
    white-space: pre-wrap;
    min-height: 200px;
    margin-bottom: 20px;
}

input, button {
    background: black;
    color: #00ff66;
    border: 1px solid #00ff66;
    font-family: monospace;
    padding: 6px;
}
    
#timer {
    font-size: 26px;
    margin-bottom: 15px;
}

.panic {
    background: #200;
    color: red;
    animation: blink 1s infinite;
}

.fake-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 25px;
}

.fake-box label {
    display: block;
    margin-bottom: 6px;
    text-align: center;
    opacity: 0.7;
}

.quiz-item {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 8px;
}

.light {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: #300;
}
.light.green { background: #00ff66; }
.light.red { background: red; }

.screamer {
    position: fixed;
    inset: 0;
    background: black;
    z-index: 999;
    display: flex;
    justify-content: center;
    align-items: center;
}
.screamer img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
}
</style>
</head>

<body>

<div id="timer">30:00</div>
<div id="terminal"></div>

<div style="display: flex; gap: 10px;">
    <input id="input" placeholder="ENTER CODE" style="flex-grow: 1;">
    <button id="changeTextBtn">Початок розслідування</button>
</div>

   
<div id="stage5-container" class="hidden">
    <div id="hint-box" style="color: yellow; font-size: 1.2em; margin-bottom: 10px;"></div>
    <div id="secret-text-area" style="background: black; line-height: 1.6; cursor: default; margin-bottom: 20px;"></div>
    <input id="inputStage5" placeholder="ВВЕДІТЬ ВІДПОВІДЬ">
</div>



<div id="stage6-container" class="hidden" style="text-align: center; padding-top: 50px;">
    <div id="click-counter" style="font-size: 72px; font-weight: bold; margin-bottom: 20px;">500</div>
    <div id="final-code-display" class="hidden" style="font-size: 80px; color: gold; text-shadow: 0 0 20px yellow; margin-bottom: 20px;">СДВГ</div>
    
    <button id="mega-button" style="width: 200px; height: 200px; border-radius: 50%; font-size: 24px; cursor: pointer; border: 5px solid white;">ТИЦЯЙ!</button>
    
    <div id="final-input-stage6" class="hidden" style="margin-top: 30px;">
        <input id="inputStage6" placeholder="ENTER FINAL CODE" style="font-size: 20px; padding: 10px;">
    </div>
</div>

<div id="flash-overlay" style="position: fixed; inset: 0; pointer-events: none; z-index: 100; opacity: 0;"></div>



<div id="stage7-container" class="hidden">
    <div id="quiz-fields" style="display: grid; gap: 20px; margin-top: 20px;"></div>
</div>

    
    
<div id="fakeFields" class="hidden"></div>
<div id="quiz" class="hidden"></div>

<audio id="beep" src="beep.mp3"></audio>
<audio id="scream1" src="test.mp3"></audio>
<audio id="screamEnd" src="endtimes.mp3"></audio>

<script>
let stage = 1;
let timeLeft = 1800;
let timerInterval;

const terminal = document.getElementById("terminal");
const input = document.getElementById("input");
const timerDisplay = document.getElementById("timer");
const beep = document.getElementById("beep");

let typingInterval; // Додайте цю змінну на початку скрипта

/* Логіка кнопки*/
document.getElementById("changeTextBtn").onclick = function() {
    const alternativeText = `Перший контакт із аномалією показав:
стандартні методи не працюють.

Агент, який покладається лише на руки,
— приречений.

ВАШЕ ЗАВДАННЯ:
відкрити цей конверт БЕЗ використання рук.

Дозволено:
– рот
– лікоть
– коліно
– сила тяжіння

Заборонено:
– здоровий глузд
– допомога ззовні

Пам’ятайте: якщо це виглядає тупо,
значить ви все робите правильно.`;

    typeText(alternativeText);
    this.remove();
};



    
function typeText(text, cb) {
    if (typingInterval) clearInterval(typingInterval); // Зупиняємо попередній друк
    let i = 0;
    terminal.innerHTML = "";
    typingInterval = setInterval(() => {
        terminal.innerHTML += text[i++];
        if (i >= text.length) {
            clearInterval(typingInterval);
            if (cb) cb();
        }
    }, 18);
}

function startTimer() {
    // Очищуємо старий таймер, щоб не було прискорення
    if (timerInterval) clearInterval(timerInterval); 
    
    timerInterval = setInterval(() => {
        timeLeft--;
        if (timeLeft <= 60) document.body.classList.add("panic");
        if (timeLeft <= 0) endGame();

        const m = String(Math.floor(timeLeft/60)).padStart(2,"0");
        const s = String(timeLeft%60).padStart(2,"0");
        timerDisplay.textContent = `${m}:${s}`;
    }, 1000);
}

function screamer(audioId, imgName) {
    const div = document.createElement("div");
    div.className = "screamer";
    div.innerHTML = `<img src="${imgName}.jpg">`;
    document.body.appendChild(div);
    const sound = document.getElementById(audioId);
    if(sound) {
        sound.currentTime = 0;
        sound.play();
    }
    setTimeout(()=>div.remove(), 1500);
}

function endGame() {
    clearInterval(timerInterval);
    screamer("screamEnd", "endtimes");
}

input.addEventListener("keydown", e => {
    if (e.key !== "Enter") return;
    const code = input.value.toUpperCase();
    input.value = "";
    
    // Глобальні коди
    if (code === "TEST") screamer("scream1", "test");
    if (code === "TIME+") timeLeft += 300;

    advance(code);
});

function advance(code) {
    if (stage === 1 && code === "НЕТУРУЧЕКНЕТКОНФЕТОК") {
        stage = 2;
        input.classList.add("hidden");
        stage2();
    }
}

/* ===== ЕТАП 2 ===== */
function stage2() {
    const stage2Text = `Молодець, ти віднайшов перший код, але поки що ми надто далеко від правди (крівди). 

Ми перехопили повідомлення, яке хтось дуже не хотів, щоб ви прочитали.

Воно зашифроване примітивним, але ефективним методом.
Його використовували ще тоді, коли Рим не підозрював,
що колись зʼявиться Шрек.

Судак-тудак.....
Щось не так.... здається наші пр.... як.......баа..г..
АГЕНТ! ось перех.... згадай.... 4 роки.... майже.... вище...

*NJ CPPPNCPP*

`;
    typeText(stage2Text, createFieldsStage2);
}

function createFieldsStage2() {
    const fields = document.createElement("div");
    fields.id = "stage2-container";
    const labels = ["ПОЛЕ1", "ПОЛЕ2", "ПОЛЕ3", "ПОЛЕ4", "ПОЛЕ5"];
    
    labels.forEach((label, i) => {
        const box = document.createElement("div");
        box.innerHTML = `<span>${label}: </span>`;
        const fInput = document.createElement("input");
        fInput.onkeydown = e => {
            if (e.key === "Enter") {
                if (fInput.value.toUpperCase() === "MI BOOOMBOO" && i === 2) {
                    fields.remove();
                    stage = 3;
                    stage3();
                } else {
                    timeLeft -= 60;
                    fInput.value = "";
                    screamer("scream1", "test");
                }
            }
        };
        box.appendChild(fInput);
        fields.appendChild(box);
    });
    terminal.appendChild(fields);
}

/* ===== ЕТАП 3 ===== */
function stage3() {
    const stage3Text = `
Йоу, бейба, відкрий пакунок під номером 2, ти це точно заслуговуєш. До речі бачив мої скриті послання? Сподіваюсь ти вмієш бачити скриті речі.

Час спливає, тому я думаю я дам тобі можливість поповнити його, ти ж цього хочеш? 

Тепер в тебе буде шанс 50/50, так би мовити сімпл-дімпл або попит.

В одне ти маєш ввести код на час, в інший код для продовження на наступний рівень. 
Якщо перепутаєш коди місцями, отримаєш штраф.

Тобі треба послухати запис, він трошки довгий, але звертай увагу на дрібні деталі, речі які він перераховує. 
Щось точно зайве. 
Абрівіатура допоможе тобі знайти сімпл, 
дімпл вкаже тобі шлях, тут прямим текстом. 
Але пам'ятаєш на якій мові був попередній код?

Попит найскладніше, бо тобі треба вміти рахувати, як саме? 
усе чуте це 1 а порожнеча між ними це 2.  
Якщо це складно для тебе, то не переймайся, бо загальне множення-39 дасть дату в яку хтось програв, а хтось переміг.
Але не кожен переможений зникає з історії, 
подумай про це.
`;

    typeText(stage3Text, () => {
        // Створюємо аудіоплеєр
        const audioControl = document.createElement("div");
        audioControl.innerHTML = `
            <p style="color:yellow">ЗАПИС_03.MP3</p>
            <button onclick="document.getElementById('scream1').play()">ВКЛЮЧИТИ ЗАПИС</button>
            <br><br>
        `;
        
        // Створюємо два поля
        const container = document.createElement("div");
        container.innerHTML = `
            <div style="margin-bottom:10px">
                <label>СІМПЛ-ДІМПЛ: </label>
                <input id="simpleInput" placeholder="???">
            </div>
            <div>
                <label>ПОПИТ: </label>
                <input id="popitInput" placeholder="???">
            </div>
        `;

        terminal.appendChild(audioControl);
        terminal.appendChild(container);

        const sInput = document.getElementById("simpleInput");
        const pInput = document.getElementById("popitInput");

        // Логіка для СІМПЛ-ДІМПЛ (Код на час)
        sInput.onkeydown = e => {
            if (e.key === "Enter") {
                if (sInput.value.toUpperCase() === "TERRARIACOMPASS") {
                    timeLeft += 600; // +10 хвилин
                    sInput.disabled = true;
                    sInput.style.color = "gray";
                    terminal.innerHTML += "<p style='color:cyan'>ЧАС ПОПОВНЕНО!</p>";
                } else {
                    screamer("scream1", "test");
                    timeLeft -= 60;
                }
            }
        };

        // Логіка для ПОПИТ (Код на продовження)
        pInput.onkeydown = e => {
            if (e.key === "Enter") {
                if (pInput.value.toUpperCase() === "GERMANY") {
                    stage = 4;
                    terminal.innerHTML = "ЕТАП 3 ЗАВЕРШЕНО. ПЕРЕХІД...";
                    setTimeout(stage4, 2000); // Перехід до вашої вікторини
                } else {
                    screamer("scream1", "test");
                    timeLeft -= 60;
                }
            }
        };
    });
}


/* ===== ЕТАП 4 ===== */
function stage4() {
    terminal.innerHTML = ""; // Очищуємо термінал
    
    const stage4Text = `
Звіт №47-А
Аналітик: ███████

У ході дослідження обʼєкта GREEN OGRE було зафіксовано численні відхилення.
Деякі співробітники повідомляють про зелені силуети.
Інші — про тварин, що спостерігають.
Частина персоналу почала безпричинно сміятися.

Перед усім, можеш відкрити пакунок 3, в ньому буде пояснення що робити з цим текстом далі:

<i style="opacity: 0.8">"Neque porro quisquam est qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit..."</i>
<i style="opacity: 0.8">"Нет никого, кто любил бы боль саму по себе, кто искал бы её и кто хотел бы иметь её просто потому, что это боль.."</i>

Проснувшись однажды утром после беспокойного сна, Грегор Замза обнаружил, что он у себя в постели превратился в страшное насекомое. 
Лежа на панцирнотвердой спине, он видел, стоило ему приподнять голову, свой коричневый, выпуклый, разделенный дугообразными чешуйками живот, на верхушке которого еле держалось готовое вот-вот окончательно сползти одеяло. 
Его многочисленные, убого тонкие по сравнению с остальным телом ножки беспомощно копошились у него перед глазами. «Что со мной случилось?» – подумал он. 
Это не было сном. Его комната, настоящая, разве что слишком маленькая, но обычная комната, мирно покоилась в своих четырех хорошо знакомых стенах. 
Над столом, где были разложены распакованные образцы сукон – Замза был коммивояжером, – висел портрет, который он недавно вырезал из иллюстрированного журнала и вставил в красивую золоченую рамку. 
На портрете была изображена дама в меховой шляпе и боа, она сидела очень прямо и протягивала зрителю тяжелую меховую муфту, в которой целиком исчезала ее рука. 
Затем взгляд Грегора устремился в окно, и пасмурная погода – слышно было, как по жести подоконника стучат капли дождя – привела его и вовсе в грустное настроение. 
«Хорошо бы еще немного поспать и забыть всю эту чепуху», – подумал он, но это было совершенно неосуществимо, он привык спать на правом боку, а в теперешнем своем состоянии он никак не мог принять этого положения. 
С какой бы силой ни поворачивался он на правый бок, он неизменно сваливался опять на спину. Закрыв глаза, чтобы не видеть своих барахтающихся ног, он проделал это добрую сотню раз и отказался от этих попыток только тогда, когда почувствовал какую-то неведомую дотоле, тупую и слабую боль в боку. 
«Ах ты, господи, – подумал он, – какую я выбрал хлопотную профессию! Изо дня в день в разъездах. Деловых волнений куда больше, чем на месте, в торговом доме, а кроме того, изволь терпеть тяготы дороги, думай о расписании поездов, мирись с плохим, нерегулярным питанием,

Знайшов слово - переклав - записав з заходу на схід.
`;

    typeText(stage4Text, () => {
        // Створюємо поле вводу спеціально для 4 етапу
        const inputContainer = document.createElement("div");
        inputContainer.style.marginTop = "20px";
        inputContainer.innerHTML = `
            <input id="inputStage4" placeholder="ENTER KEYWORD" style="width: 250px;">
        `;
        terminal.appendChild(inputContainer);

        const input4 = document.getElementById("inputStage4");
        input4.focus();

        input4.onkeydown = e => {
            if (e.key === "Enter") {
                const val = input4.value.toUpperCase().trim();
                if (val === "EYES") {
                    stage = 5;
                    terminal.innerHTML = "<p style='color:lime'>ДОСТУП ДО ЕТАПУ 5 ВІДКРИТО...</p>";
                    setTimeout(stage5, 2000); 
                } else {
                    screamer("scream1", "test"); // Скример за помилку
                    timeLeft -= 45;
                    input4.value = "";
                }
            }
        };
    });
}


let currentQuestion = 0;
const questions = [
    { hint: "1) Моє громадянство?", answer: "ГРОМАДЯНИН США" },
    { hint: "2) В скількох форсажах я знімався?", answer: "5" },
    { hint: "3) Остання робота на сьогодні, яка вийшла зі мною?", answer: "НЕЗЛАМНИЙ" },
    { hint: "4) Чиє в мене тату?", answer: "ПОЛІНЕЗІЙСЬКЕ" }
];

    /* ===== ЕТАП 5 ===== */
function stage5() {
    // 1. Очищаємо все зайве
    terminal.innerHTML = "";
    if (document.getElementById("input-container")) document.getElementById("input-container").classList.add("hidden");
    if (document.getElementById("quiz")) document.getElementById("quiz").classList.add("hidden");
    
    // 2. Виводимо вступний текст
    const introStage5 = `Агенте.
        Ми мусимо визнати — маскування зірване. Тепер усі знають, що ти тут.
    Одягни це. (Пакунок 4)
    Це не врятує ситуацію. Але протокол вимагає виглядати впевнено, навіть коли все пішло не так.

Це були складні завдання, визнаю, було бажання зробити ще більш асбсурдним, але як ти зрозумів, я надто лінивий щоб вставити сюди увесь код зі сторінки "Докажи що ти людина".
Проте, щось все ж таки є. Докажи що ти Двейн Скала Джонсон`;
    
    typeText(introStage5, () => {
        const btn = document.createElement("button");
        btn.textContent = "Я ГОТОВИЙ ПІДТВЕРДИТИ ОСОБИСТІСТЬ";
        btn.onclick = startRockChallenge;
        terminal.appendChild(btn);
    });
}

function startRockChallenge() {
    terminal.innerHTML = ""; // Видаляємо текст і кнопку
    const container = document.getElementById("stage5-container");
    container.classList.remove("hidden");
    
    const textArea = document.getElementById("secret-text-area");
    const rawText = `Двейн Джонсон відомий не лише своїми ролями у блокбастерах, а й незвичною життєвою історією. Він народився у спортивній родині, де реслінг був майже спадковою справою. 
    Саме тому його фізична форма завжди була частиною його образу — як на рингу, так і на великому екрані. Хоча його коріння пов’язані з Самоа, офіційно Двейн є громадянином США, що неодноразово підкреслював у своїх інтерв’ю.

Його шлях у кіно розвивався поступово, але справжній вибух популярності стався після появи у франшизі «Форсаж». Цікаво, що персонаж Люка Гоббса не планувався як центральний, але глядачі швидко зробили його одним з улюбленців серії. 
Загалом Двейн Джонсон знявся у п’яти фільмах, пов’язаних із франшизою «Форсаж»: Fast Five, Fast & Furious 6, Furious 7, The Fate of the Furious та спін-офі Hobbs & Shaw.

Поза межами автоперегонів і вибухів, Джонсон активно працює як продюсер і бізнесмен. Він часто говорить про дисципліну, ранні підйоми та «культуру праці», яку намагається прищепити своїй команді. Ці риси добре відображаються і в його ролях — майже 
завжди це персонажі, які беруть відповідальність на себе, навіть коли ситуація здається безнадійною.

Окремої уваги заслуговують його татуювання. Найбільш помітне — велике полінезійське тату, яке покриває плече та частину грудей. Воно має глибокий символізм: у візерунках зашифровані історії його родини, 
пам’ять про предків, символи захисту, сили та життєвого шляху. Інше відоме тату — голова бика (Brahma Bull), що уособлює силу, впертість і його сценічне минуле у реслінгу.

Навіть у комедійних ролях Двейн залишається впізнаваним: харизма, самоіронія та фірмова посмішка стали його візитівкою. Він часто озвучує анімаційних персонажів, але паралельно продовжує зніматися у масштабних проєктах, де поєднуються екшн і гумор.

Останньою на сьогодні роботою, яка вийшла з його участю, є фільм Незламний «The Smashing Machine» (2025) — американська біографічна спортивна драма, сценаристом і режисером якої став Бенні Сафд.

Головну роль виконав Двейн Джонсон, який зобразив колишнього бійця змішаних єдиноборств Марка Керра. Також у фільмі зіграли Емілі Блант, Ліндсі Гевін, Олександр Усик, Раян Бейдер і Ішії Сатоші.`;

    // Створюємо ефект прихованих букв
    textArea.innerHTML = rawText.split("").map(char => 
        `<span class="ghost-char" style="color: black; transition: color 0.3s;">${char}</span>`
    ).join("");

    // Логіка підсвічування при наведенні
    textArea.addEventListener("mouseover", e => {
        if (e.target.classList.contains("ghost-char")) {
            e.target.style.color = "#00ff66";
            setTimeout(() => { e.target.style.color = "black"; }, 1000); // згасає через 1 сек
        }
    });

    updateQuestion();
}

function updateQuestion() {
    const hintBox = document.getElementById("hint-box");
    const input = document.getElementById("inputStage5");
    
    if (currentQuestion < questions.length) {
        hintBox.textContent = questions[currentQuestion].hint;
        input.value = "";
        input.onkeydown = e => {
            if (e.key === "Enter") {
                if (input.value.toUpperCase().trim() === questions[currentQuestion].answer) {
                    currentQuestion++;
                    if (currentQuestion === questions.length) {
                        alert("Етап 5 завершено! Перехід до Етапу 6...");
                        stage6(); // Виклик наступного етапу
                    } else {
                        updateQuestion();
                    }
                } else {
                    timeLeft -= 30;
                    screamer("scream1", "test");
                    input.value = "";
                }
            }
        };
    }
}


/* ===== ЕТАП 6 ===== */
let clickCount = 500;
let colorIndex = 0;
const acidicColors = ["#FF00FF", "#00FFFF", "#FFFF00", "#FF0000"]; // Маджента, Ціан, Жовтий, Червоний

function stage6() {
    // 1. Очищення екрана
    terminal.innerHTML = "";
    document.getElementById("stage5-container").classList.add("hidden");
    
    // 2. Вступний текст
    const stage6Text = `Обладнення в наш час ніяке. Все треба робити самому.

Раніше для цього використовували хом'яків, а деякі кажуть що легенди завдяки цьому отримували багато і багато аспектів в Таумкрафті.


GREEN OGRE точно не очікує, що ти пройдеш це завдання, але це його помилка.

Але чесно, агенте, мене тебе шкода, ти справжній герой своєї країни, ми будемо пам'ятати тебе!

<i style="display:block; margin-top:15px; color: #ff6666;">P.S. вагітним хворим на голову, людям з епілепсією, дотерам, сдвг-шникам, клоунам та карликам в шоколадних бікіні краще відійти від екрану</i>`;

    typeText(stage6Text, () => {
        setTimeout(() => {
            terminal.innerHTML = "";
            document.getElementById("stage6-container").classList.remove("hidden");
            initClicker();
        }, 3000);
    });
}

function initClicker() {
    const btn = document.getElementById("mega-button");
    const counterDisplay = document.getElementById("click-counter");
    const overlay = document.getElementById("flash-overlay");
    const screamSound = document.getElementById("scream1"); // Використовуємо ваш тестовий звук

    btn.onclick = () => {
        if (clickCount > 0) {
            clickCount--;
            counterDisplay.textContent = clickCount;

            // Ефект спалаху
            overlay.style.backgroundColor = acidicColors[colorIndex];
            overlay.style.opacity = "0.8";
            setTimeout(() => { overlay.style.opacity = "0"; }, 50);

            // Звук
            screamSound.currentTime = 0;
            screamSound.play().catch(e => {});

            // Зміна індексу кольору
            colorIndex = (colorIndex + 1) % acidicColors.length;

            if (clickCount === 0) {
                finishClicking();
            }
        }
    };
}

function finishClicking() {
    document.getElementById("click-counter").classList.add("hidden");
    document.getElementById("mega-button").classList.add("hidden");
    
    document.getElementById("final-code-display").classList.remove("hidden");
    document.getElementById("final-input-stage6").classList.remove("hidden");

    const input6 = document.getElementById("inputStage6");
    input6.focus();
    input6.onkeydown = e => {
        if (e.key === "Enter") {
            if (input6.value.toUpperCase() === "СДВГ") {
                alert("ПРОТОКОЛ ПОРУШЕНО. ПЕРЕХІД ДО ЕТАПУ 7");
                // stage7(); // Виклик наступного етапу
            } else {
                timeLeft -= 100; // Жорсткий штраф
                input6.value = "";
                screamer("scream1", "test");
            }
        }
    };
}


/* ===== Звук клавіш ===== */
const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

function playClickSound() {
    const oscillator = audioCtx.createOscillator();
    const gainNode = audioCtx.createGain();

    oscillator.type = 'square'; // Квадратна хвиля дає більш "механічний" звук
    oscillator.frequency.setValueAtTime(150, audioCtx.currentTime);
    oscillator.frequency.exponentialRampToValueAtTime(40, audioCtx.currentTime + 0.1);

    gainNode.gain.setValueAtTime(0.1, audioCtx.currentTime);
    gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.1);

    oscillator.connect(gainNode);
    gainNode.connect(audioCtx.destination);

    oscillator.start();
    oscillator.stop(audioCtx.currentTime + 0.1);
}

// Глобальний обробник для всіх input на сторінці
document.addEventListener('keydown', (e) => {
    if (e.target.tagName === 'INPUT') {
        playClickSound();
    }
});




    
/* ===== ЕТАП 7 ===== */
function stage7() {
    // Ховаємо Етап 6
    const st6 = document.getElementById("stage6-container");
    if (st6) st6.classList.add("hidden");
    if (document.getElementById("flash-overlay")) document.getElementById("flash-overlay").remove();

    terminal.innerHTML = "";

    const stage7Text = `Відкриваєш пакунок 5, голова

Вони ніяк не пов'язані між собою, як ти міг зрозуміти.

Тепер просто шараш рандомні питання, бо мені в ПРИКОЛ 

Тобто, все так, Агенте, GREEN-OGRE намагається зламати нас, ти вже бачив його силу. 
Він часто перекручує наші повідомлення, і відверто глузує з нас. 
Тепер ми розуміємо, чому саме тебе було обрано на це завдання, ніхто інший не знає відповіді на ці надскладні питання. 
Можливо частинка об'єкту нашого дослідження є у вас....


Не звертай уваги, не гай час, якого й без того мало. Ось тобі допомога!
Наші хакери змогли зламати жорсткий диск  GREEN-OGRE і ось що вони знайшли біля Смітника - TIME+
Це секретна одноразова, біохімічно-термоядерна сполука, яка розриває час та матерію. Звісно, якби перед нами не стояла така важлива ціль, 
ніхто б не дозволив тобі використовувати її. Тому поки керивницвто не побачило, не гай часу! `;

    typeText(stage7Text, () => {
        const container = document.getElementById("stage7-container");
        const quizFields = document.getElementById("quiz-fields");
        container.classList.remove("hidden");
        terminal.appendChild(container);

        const questions = [
            { q: "1. Повна назва ДДМА:", a: "ДОНБАСЬКА ДЕРЖАВНА МАШИНОБУДІВНА АКАДЕМІЯ" },
            { q: "2. Те, що неможливо продати чи купити, але всі намагаються:", a: "СЛОН" },
            { q: "3. Точна кількість шкоди від гачка товстуна (на 1 рівні):", a: "150" },
            { q: "4. Яка в мене відеокарта?", a: "GEFORCE GTX 4060" },
            { q: "5. Що у мене в кармані?", a: "НІЧОГО" },
            { q: "6. Традиційний подарунок на день народження:", a: "АНТИСТРЕС" },
            { q: "7. Кодове слово з конверту?", a: "ОБАЛДУЙ" }
        ];

        questions.forEach((item, index) => {
            const wrap = document.createElement("div");
            wrap.id = `q-wrap-${index}`;
            wrap.innerHTML = `
                <label style="display:block; color:#00ff66; margin-bottom:5px;">${item.q}</label>
                <input type="text" class="quiz-input" data-answer="${item.a}" placeholder="Введіть відповідь..." style="width:100%;">
            `;
            quizFields.appendChild(wrap);
        });

        // Додаємо перевірку для кожного інпуту
        const inputs = document.querySelectorAll(".quiz-input");
        inputs.forEach(input => {
            input.onkeydown = (e) => {
                if (e.key === "Enter") {
                    const userAnswer = input.value.toUpperCase().trim();
                    const correctAnswer = input.getAttribute("data-answer");

                    if (userAnswer === correctAnswer) {
                        input.parentElement.remove(); // Видаляємо все поле з питанням
                        checkStage7Complete();
                    } else {
                        timeLeft -= 20; // Штраф за неправильну відповідь
                        input.style.borderColor = "red";
                        setTimeout(() => { input.style.borderColor = "#00ff66"; }, 500);
                        screamer("scream1", "test");
                    }
                }
            };
        });
    });
}

function checkStage7Complete() {
    const remainingQuestions = document.querySelectorAll(".quiz-input");
    if (remainingQuestions.length === 0) {
        document.getElementById("stage7-container").innerHTML = "<h2 style='color:lime; text-align:center;'>ВСІ КОДИ ПРИЙНЯТО. ПЕРЕХІД ДО ЕТАПУ 8...</h2>";
        setTimeout(() => {
            // stage8(); // Сюди додасте виклик 8 етапу
            alert("Етап 7 пройдено!"); 
        }, 2000);
    }
}
    

    
    

    
// Початковий запуск
typeText("АГЕНТЕ... Система чекає на КОД 1...", startTimer);

// Запуск першої сцени
typeText(`АГЕНТЕ, система дала збій... Шукайте код у Конверті №1.`, startTimer);

function stage44() {
    const quiz = document.getElementById("quiz");
    quiz.classList.remove("hidden");
    quiz.innerHTML="";

    const q = [
        ["Повна назва ДДМА","ДОНБАСЬКА ДЕРЖАВНА МАШИНОБУДІВНА АКАДЕМІЯ"],
        ["Те, що неможливо продати","СЛОН"],
        ["Шкода гачка","150"],
        ["Відеокарта","GTX 4060"],
        ["Що в кармані","НІЧОГО"],
        ["Традиційний подарунок","АНТИСТРЕС"],
        ["Код","CODE4"]
    ];

    q.forEach(([t,a])=>{
        const d=document.createElement("div");
        d.className="quiz-item";
        const i=document.createElement("input");
        i.placeholder=t;
        const l=document.createElement("div");
        l.className="light";
        i.onkeydown=e=>{
            if(e.key!=="Enter")return;
            if(i.value.toUpperCase()===a){
                l.className="light green";
                i.disabled=true;
                checkQuiz();
            } else l.className="light red";
        };
        d.append(i,l);
        quiz.appendChild(d);
    });
}

function checkQuiz(){
    if([...document.querySelectorAll(".light")]
        .every(l=>l.classList.contains("green"))){
        startCode5();
    }
}

function startCode5(){
    timerDisplay.style.display="none";
    document.body.innerHTML="<pre style='color:red'>SYSTEM FAILURE\nPRESS F</pre>";
    document.addEventListener("keydown",e=>{
        if(e.key.toUpperCase()==="F") location.reload();
    });
}

typeText(
`
АГЕНТЕ Богдан


, 
якщо ви читаєте це повідомлення — значить система дала збій. 

Або ми. 
Або ви.

Аналітичний Відділ фіксує аномальну активність, повʼязану з кодовою назвою GREEN OGRE.

Спочатку це виглядало як жарт.
Потім — як серія безглуздих артефактів.
А тепер — як загроза, природу якої ми не до кінця розуміємо.

У матеріалах фігурують:
– огр зеленого кольору
– тварини, які не повинні бути тут
– предмети, що не мають сенсу
– і ви

Ми не знаємо, чому саме ви були обрані.
Але всі попередні кандидати не витримали абсурду.

Для отримання доступу до Обʼєкта Ω вам необхідно пройти 6 етапів перевірки.

Шукай приховане серед того що бачиш, не довіряй друзям, власним очам, лише своєму павучому відчуттю.
Десь серед УСЬОГО тексту, який буде зустрчатися тобі будуть скриті посилання, частинки пазлів і гумору.

Ми довіряємо цю місію тобі, лише тобі. Ніхто інший не зможе впоратися з цим завданням. Цей текст немає жодного значення, просто
треба щоб він виглядав круто й загадково. Єдинне що дійсно важливе, і сподіваюсь ти це не пропустиш, це час. Він спливає, так швидко, 
що навіть твій друг не може зробити щось корисне бо постійно з тобою грає. Так от, агенту, якщо він закінчиться, ти ніколи не дійдеш до фінального
етапу, і це означає що ти повільний лохобан, тому Сося передає привіт, і можеш починати.

Не шукайте логіку.
Почніть з Конверта №1.
`,
startTimer
);
</script>

</body>
</html>
